<div class="tecnico-form-container">
  <div class="form-card">
    <h2>Editar Técnico</h2>

    <form [formGroup]="tecnicoForm" (ngSubmit)="update()">
      <mat-form-field appearance="outline">
        <mat-label>Nome</mat-label>
        <input matInput formControlName="nome" placeholder="Digite o nome">
        <mat-error *ngIf="f.nome.touched && f.nome.invalid">
          <span *ngIf="f.nome.errors?.required">Nome é obrigatório</span>
          <span *ngIf="f.nome.errors?.minlength">Nome deve ter pelo menos 3 caracteres</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>CPF</mat-label>
        <input matInput formControlName="cpf" placeholder="00000000000" (input)="formatCpf($event)" maxlength="11">
        <mat-error *ngIf="f.cpf.touched && f.cpf.invalid">
          <span *ngIf="f.cpf.errors?.required">CPF é obrigatório</span>
          <span *ngIf="f.cpf.errors?.pattern">CPF deve conter 11 dígitos</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" placeholder="email@exemplo.com">
        <mat-error *ngIf="f.email.touched && f.email.invalid">
          <span *ngIf="f.email.errors?.required">Email é obrigatório</span>
          <span *ngIf="f.email.errors?.email">Email inválido</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Senha</mat-label>
        <input matInput type="password" formControlName="senha" placeholder="Deixe em branco para manter a senha atual">
        <mat-hint>Deixe em branco para manter a senha atual</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Perfis</mat-label>
        <mat-select formControlName="perfis" multiple>
          <mat-option *ngFor="let perfil of perfis" [value]="perfil">{{ perfil }}</mat-option>
        </mat-select>
        <mat-error *ngIf="f.perfis.touched && f.perfis.invalid">
          Selecione pelo menos um perfil
        </mat-error>
      </mat-form-field>

      <div class="button-group">
        <button mat-raised-button type="button" color="warn" (click)="cancel()">Cancelar</button>
        <button mat-raised-button type="submit" color="primary">Atualizar</button>
      </div>
    </form>
  </div>
</div>
